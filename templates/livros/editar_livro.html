{% extends 'base.html' %}
{% block titulo %}Editar Livro{% endblock %}
{% block conteudo %}
<main class="container">
    <h1>Editar Livro</h1>
    <form class="form-box" method="POST" action="{{ url_for('livro.editar_livro', id=livro.id) }}">
        <label>Título:</label>
        <input type="text" name="titulo" value="{{ livro.titulo }}" required>

        <label>Autor:</label>
        <select name="autor_id" required>
            {% for autor in autores %}
            <option value="{{ autor.id }}" {% if autor.id == livro.autor_id %}selected{% endif %}>{{ autor.nome }}</option>
            {% endfor %}
        </select>

        <label>ISBN:</label>
        <input type="text" name="isbn" maxlength="13" value="{{ livro.isbn }}" required>

        <label>Ano de Publicação:</label>
        <input type="number" name="ano_publicacao" value="{{ livro.ano_publicacao }}">

        <label>Gênero:</label>
        <select name="genero_id" required>
            {% for genero in generos %}
            <option value="{{ genero.id }}" {% if genero.id == livro.genero_id %}selected{% endif %}>{{ genero.nome}}</option>
            {% endfor %}
        </select>

        <label>Editora:</label>
        <select name="editora_id" required>
            {% for editora in editoras %}
            <option value="{{ editora.id }}" {% if editora.id == livro.editora_id %}selected{% endif %}>{{ editora.nome}}</option>
            {% endfor %}
        </select>

        <label>Quantidade Disponível:</label>
        <input type="number" name="quantidade_disponivel" value="{{ livro.quantidade}}">

        <label>Resumo:</label>
        <textarea name="resumo">{{ livro.resumo }}</textarea>

        <button class="botao" type="submit">Salvar Alterações</button>
    </form>
</main>
{% endblock %}